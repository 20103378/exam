<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户列表页面</title>
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <script src="../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
    <script src="../static/js/jquery.min.js" th:src="@{/js/jquery.min.js}"></script>

</head>
<script type="text/javascript">
    function p_del() {
        var msg = "您真的确定要删除吗？";
        if (confirm(msg)==true){
            return true;
        }else{
            return false;
        }
    }
</script>
<body>
<fieldset style="width:250px; margin:0px auto">
    <p>
    <h2>试题信息管理</h2>
    </p>
</fieldset>
<div class="table-responsive">
    <table class="table table-bordered" style="width: 70%;margin:0px auto">
        <thead>
        <tr class="success">
            <th style="font-weight: bold">序号</th>
            <th>考试题目</th>
            <th>加入时间</th>
            <th>题目类型</th>
            <th>所属试卷</th>
            <th>操作</th>
        </tr>
        </thead>

        <tbody id="mytbd">
        <tr th:each="question,varStatus : ${questionList}">
            <td th:text="${varStatus.index+1}"></td>
            <td th:text="${question.subject}"></td>
            <td th:text="${#dates.format(question.joinTime, 'yyyy-MM-dd')}"/>
            <div th:switch="${question.type}">
                <td th:case="2">多选题</td>
                <td th:case="1">单选题</td>
            </div>

            <td th:text="${question.paper.paperName }"></td>
            <td>
                <a class="btn btn-info" th:href="@{/getQuestionById(questionId=${question.qid})}">查看</a>
                <a class="btn btn-info" th:href="@{/preSave(questionId=${question.qid})}">修改</a>
                <a class="btn btn-info" th:href="@{/questionDelete(questionId=${question.qid},paperId=${paperId})}" onclick="javascript:return p_del()">删除</a>
                <a class="btn btn-info" th:href="@{/paperList}">回到主页面</a>

            </td>
        </tr>
        </tbody>
    </table>

    <div align="center">
        <a class="allpage"><b th:text="'共 '+ ${pageInfo.getPages()}+ ' 页'"></b></a>
        <a th:href="@{/questionList(paperId=${paperId},currentPage=${pageInfo.getFirstPage()})}"  >首页</a>
        <a th:if="${pageInfo.hasPreviousPage()} == true" th:href="@{/questionList(paperId=${paperId},currentPage=${pageInfo.getPrePage()})}"  >上一页</a>
        <a th:href="@{'/questionList?currentPage=' + ${i}+'&paperId='+${paperId}}"  th:each="i :${#numbers.sequence(pageInfo.firstPage, pageInfo.lastPage)}" th:text="  -  ${i}"   th:class="${pageInfo.getPageNumber() == i}? 'page-item active' :' page-item' "></a>
        <a th:if="${pageInfo.hasNextPage()} == true" th:href="@{/questionList(paperId=${paperId},currentPage=${pageInfo.getNextPage()})}" >-下一页</a>
        <a th:href="@{/questionList(paperId=${paperId},currentPage=${pageInfo.getLastPage()})}" >尾页</a>
    </div>

</div>
</body>
</html>